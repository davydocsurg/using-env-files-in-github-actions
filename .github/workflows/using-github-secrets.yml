name: Using GitHub Secrets

on: [push]

jobs:
    create-env-file-mid:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout repository
              uses: actions/checkout@v3

            - name: Create .env file
              run: |
                  touch .env
                  echo ${{secrets.TEST_SECRETS}} >> .env

            - name: Create secrets directory and file
              run: |
                  mkdir -p $HOME/secrets
                  echo '{"key": "value"}' > $HOME/secrets/my_secret.json

            - name: Test printing your secret (Remove this step in production)
              run: cat $HOME/secrets/my_secret.json